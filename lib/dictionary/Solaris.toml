# [[metrics]]

# id  
#     メトリックID。必須。ユニークにする必要あり
# name 
#     メトリック名
# category 
#     メトリックの分類
# level 
#     採取レベル。高い方が優先度が下がる
#     -1, 0, 1, 2 から選択、-1の場合、コマンドを実行しない。既定は0
# comment
#     メトリックの定義
# type = "Cmd"
#     コマンドが1行の実行の場合、"Cmd"、複数行の場合、"Script"
# text 
#     コマンド実行テキスト、 ''' で括る

[[metrics]]

id = "hostname"
name = "ホスト名"
category = "OSリリース"
level = 0
text = '''
uname -n
'''

[[metrics]]

id = "hostname_fqdn"
type = "Script"
text = '''
(
awk \'/^domain/ {print \$2}\' /etc/resolv.conf 2>/dev/null
if [ \$? != 0 ]; then
   echo 'Not Found'
fi
)
'''

[[metrics]]

id = "kernel"
text = '''
uname -X
'''

[[metrics]]

id = "cpu"
text = '''
kstat -p cpu_info
'''

[[metrics]]

id = "psrinfo"
text = '''
psrinfo
'''

[[metrics]]

id = "machineid"
text = '''
hostid
'''

[[metrics]]

id = "memory"
type = "Script"
text = '''
/usr/sbin/prtconf |grep Memory
'''

[[metrics]]

id = "swap"
text = '''
/usr/sbin/swap -s
'''

[[metrics]]

id = "network"
text = '''
/usr/sbin/ifconfig -a
'''

[[metrics]]

id = "ipadm"
text = '''
ipadm
'''

[[metrics]]

id = "net_route"
text = '''
/usr/sbin/route -v -n get default
'''

[[metrics]]

id = "ndd"
text = '''
/usr/sbin/ndd -get /dev/tcp tcp_rexmit_interval_max tcp_ip_abort_interval tcp_keepalive_interval
'''

[[metrics]]

id = "disk"
text = '''
/usr/sbin/prtpicl -v
'''

[[metrics]]

id = "metastat"
text = '''
/usr/sbin/metastat
'''

[[metrics]]

id = "filesystem"
text = '''
df -ha
'''

[[metrics]]

id = "zpool"
text = '''
/usr/sbin/zpool status
'''

[[metrics]]

id = "zpool_list"
text = '''
/usr/sbin/zpool list
'''

[[metrics]]

id = "patches"
text = '''
ls /var/sadm/patch 2>/dev/null
'''

[[metrics]]

id = "solaris11_build"
text = '''
sh -c "LANG=C; /usr/bin/pkg info entire"
'''

[[metrics]]

id = "virturization"
text = '''
/usr/bin/zonename
'''

[[metrics]]

id = "packages"
text = '''
/usr/bin/pkginfo -l
'''

[[metrics]]

id = "user"
text = '''
cat /etc/passwd
'''

[[metrics]]

id = "group"
text = '''
cat /etc/group
'''

[[metrics]]

id = "service"
text = '''
sh -c "LANG=C /usr/bin/svcs -a"
'''

[[metrics]]

id = "zoneadm"
text = '''
/usr/sbin/zoneadm list -vc
'''

[[metrics]]

id = "poolstat"
text = '''
poolstat -r all
'''

[[metrics]]

id = "system_etc"
text = '''
cat /etc/system
'''

[[metrics]]

id = "resolve_conf"
text = '''
grep nameserver /etc/resolv.conf
'''

[[metrics]]

id = "coreadm"
text = '''
coreadm
'''

[[metrics]]

id = "ntp"
text = '''
egrep -e '^server' /etc/inet/ntp.conf
'''

[[metrics]]

id = "snmp_trap"
text = '''
egrep -e '^\\s*trapsink' /etc/snmp/snmpd.conf
'''
